<!doctype html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href='http://fonts.googleapis.com/css?family=Ubuntu+Mono|Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
    <title>Authorize</title>
    <style type="text/css">
      body {
        background:   #f4f4f4;
        color:        #464646;
        font:         36px/1.5 Open Sans, FreeSans, Helvetica, Arial, sans-serif;
        margin:       0;
        padding:      0;
      }
      
      p, ul, form {
        margin:       1em auto;
        padding:      0;
        width:        600px;
      }
      
      th {
        font-size:    80%;
        font-weight:  normal;
        text-align:   left;
      }
      
      input {
        font-size:    80%;
      }
      
      code {
        font-family:  Ubuntu Mono, Monaco, Courier New, monospace;
      }
    </style>
  </head>
  <body>
    
    <p>The page at <code><%= client_id %></code> wants:</p>
    
    <ul>
      <% scope.split(/\s+/).forEach(function(module) { %>
        <% var path = module.split(':') %>
        <li><b><%= access_strings[path[1] || 'rw'] %></b> access to <b><%= path[0].replace(/\/?$/, '/') %></b></li>
      <% }) %>
    </ul>
    
    <% if (typeof error !== 'undefined') { %>
      <p class="error"><%= error %></p>
    <% } %>
    
    <form method="POST" action="/oauth">
      <input type="hidden" name="client_id" value="<%= client_id %>">
      <input type="hidden" name="redirect_uri" value="<%= redirect_uri %>">
      <input type="hidden" name="response_type" value="<%= response_type %>">
      <input type="hidden" name="scope" value="<%= scope %>">
      <input type="hidden" name="state" value="<%= state %>">
      
      <table>
        <tr>
          <th scope="row"><label for="username">Username</label></th>
          <td><input type="text" name="username" id="username" value="<%= username %>"></td>
        </tr>
        <tr>
          <th scope="row"><label for="password">Password</label></th>
          <td><input type="password" name="password" id="password"></td>
        </tr>
      </table>
      
      <input type="submit" value="Allow">
    </form>
    
  </body>
</html>

