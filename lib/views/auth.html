<!doctype html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link href='<%=e( scheme )%>://fonts.googleapis.com/css?family=Ubuntu+Mono|Open+Sans:400italic,400,700' rel='stylesheet' type='text/css'>
    <title>Authorize</title>
    <style type="text/css">
      body {
        background:   #f4f4f4;
        color:        #464646;
        font:         36px/1.5 Open Sans, FreeSans, Helvetica, Arial, sans-serif;
        margin:       0;
        padding:      0;
      }

      p, ul, form {
        margin:       1em auto;
        padding:      0;
        width:        600px;
      }

      th {
        font-size:    80%;
        font-weight:  normal;
        text-align:   left;
      }

      input {
        font-size:    80%;
      }

      code {
        font-family:  Ubuntu Mono, Monaco, Courier New, monospace;
      }
    </style>
  </head>
  <body>

    <p><code><%=e( client_id )%></code> wants to access these resources for
      <b><%=e( username )%></b>:</p>

    <ul>
      <% for (var path in permissions) { %>
        <% var flags = permissions[path].join('') %>
        <li><b><%=e( access_strings[flags] )%></b> access to <b><%=e( path.replace(/\/*$/, '/') )%></b></li>
      <% } %>
    </ul>

    <% if (typeof error !== 'undefined') { %>
      <p class="error"><%=e( error )%></p>
    <% } %>

    <form method="POST" action="/oauth">
      <input type="hidden" name="client_id" value="<%=e( client_id )%>">
      <input type="hidden" name="redirect_uri" value="<%=e( redirect_uri )%>">
      <input type="hidden" name="response_type" value="<%=e( response_type )%>">
      <input type="hidden" name="scope" value="<%=e( scope )%>">
      <input type="hidden" name="state" value="<%=e( state )%>">
      <input type="hidden" name="username" value="<%=e( username )%>">

      <p>
        <label for="password">Password</label>:
        <input type="password" name="password" id="password">
      </p>

      <p><input type="submit" value="Allow"></p>
    </form>

  </body>
</html>

